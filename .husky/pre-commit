#!/usr/bin/env sh

# Run z-index validation tests before committing
echo "ğŸ” Running z-index validation tests..."
pnpm test -- --run --grep "z-index" --passWithNoTests

# If tests fail, abort the commit
if [ $? -ne 0 ]; then
  echo "âŒ Z-index tests failed. Please fix the issues before committing."
  exit 1
fi

# Run TypeScript type checking
echo "ğŸ” Running TypeScript type check..."
pnpm tsc --noEmit

if [ $? -ne 0 ]; then
  echo "âŒ TypeScript errors found. Please fix the issues before committing."
  exit 1
fi

echo "âœ… All pre-commit checks passed!"
