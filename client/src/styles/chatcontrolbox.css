/**
 * ChatControlBox CSS Styles
 * ==========================
 * 
 * CONTAINER-BASED PROPORTIONALITY SYSTEM
 * All dimensions are controlled via CSS custom properties set by JavaScript.
 * The getScaledCSSVariables() function in chatcontrolbox.config.ts calculates
 * the appropriate scale factor based on the actual container width.
 * 
 * HOW IT WORKS:
 * 1. FloatingChatWindow detects screen size and constrains itself
 * 2. ChatControlBox uses ResizeObserver to detect its container width
 * 3. getScaledCSSVariables() calculates scale factor: containerWidth / MIN_CONTAINER_WIDTH
 * 4. All CSS variables are scaled proportionally
 * 5. All UI elements use these CSS variables for sizing
 * 
 * REFERENCE: /home/ubuntu/multi-ai-chat/client/src/config/chatcontrolbox.config.ts
 */

/* =============================================================================
   COMPONENT STYLES
   ============================================================================= */

.chat-control-box {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  min-width: 0; /* Allow shrinking to any size */
  padding: var(--ccb-container-padding-y) var(--ccb-container-padding);
  border-radius: var(--ccb-container-border-radius);
  display: flex;
  flex-direction: column;
  gap: var(--ccb-row-gap);
  overflow: hidden;
}

/* Toolbar Row - MUST NOT WRAP */
.ccb-toolbar-row {
  display: flex;
  align-items: center;
  gap: var(--ccb-toolbar-gap);
  height: var(--ccb-row-height);
  flex-wrap: nowrap; /* CRITICAL: Never wrap - scaling handles fit */
  min-width: 0; /* Allow shrinking */
  overflow: hidden;
}

/* Input Row */
.ccb-input-row {
  display: flex;
  align-items: center;
  gap: var(--ccb-toolbar-gap);
  min-height: var(--ccb-input-height);
  min-width: 0; /* Allow shrinking */
}

/* =============================================================================
   ICON BUTTONS
   ============================================================================= */

.ccb-icon-button {
  width: var(--ccb-toolbar-icon-button-size);
  height: var(--ccb-toolbar-icon-button-size);
  min-width: var(--ccb-toolbar-icon-button-size);
  min-height: var(--ccb-toolbar-icon-button-size);
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  border-radius: calc(var(--ccb-toolbar-icon-button-size) * 0.25);
}

.ccb-icon-button svg {
  width: var(--ccb-toolbar-icon-size);
  height: var(--ccb-toolbar-icon-size);
}

/* =============================================================================
   PILL BUTTONS (Models, Presets)
   ============================================================================= */

.ccb-models-button {
  height: var(--ccb-models-button-height);
  min-width: var(--ccb-models-button-min-width);
  padding: 0 calc(var(--ccb-container-padding) * 0.75);
  font-size: var(--ccb-font-size);
  border-radius: calc(var(--ccb-models-button-height) / 2);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: calc(var(--ccb-toolbar-gap) * 0.5);
  flex-shrink: 0;
  white-space: nowrap;
}

.ccb-presets-button {
  height: var(--ccb-presets-button-height);
  min-width: var(--ccb-presets-button-min-width);
  padding: 0 calc(var(--ccb-container-padding) * 0.75);
  font-size: var(--ccb-font-size);
  border-radius: calc(var(--ccb-presets-button-height) / 2);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  white-space: nowrap;
}

/* =============================================================================
   INPUT FIELD
   ============================================================================= */

.ccb-input-wrapper {
  flex: 1;
  min-width: 0;
  position: relative;
  display: flex;
  align-items: center;
}

.ccb-input {
  width: 100%;
  min-height: var(--ccb-input-height);
  padding: calc(var(--ccb-container-padding-y) * 0.5) var(--ccb-input-padding-x);
  padding-left: calc(var(--ccb-input-padding-x) + var(--ccb-input-icon-size) + 8px);
  padding-right: calc(var(--ccb-input-padding-x) + var(--ccb-input-icon-size) + 8px);
  font-size: var(--ccb-font-size);
  border-radius: var(--ccb-input-border-radius);
  resize: none;
  overflow: hidden;
}

.ccb-input-icon-left,
.ccb-input-icon-right {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
}

.ccb-input-icon-left {
  left: calc(var(--ccb-input-padding-x) * 0.5);
}

.ccb-input-icon-right {
  right: calc(var(--ccb-input-padding-x) * 0.5);
}

.ccb-input-icon-left svg,
.ccb-input-icon-right svg {
  width: var(--ccb-input-icon-size);
  height: var(--ccb-input-icon-size);
}

/* =============================================================================
   SEND BUTTON
   ============================================================================= */

.ccb-send-button {
  width: var(--ccb-send-button-size);
  height: var(--ccb-send-button-size);
  min-width: var(--ccb-send-button-size);
  min-height: var(--ccb-send-button-size);
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  border-radius: calc(var(--ccb-send-button-size) / 2);
}

.ccb-send-button svg {
  width: var(--ccb-send-icon-size);
  height: var(--ccb-send-icon-size);
}

/* =============================================================================
   TYPOGRAPHY
   ============================================================================= */

.ccb-text {
  font-size: var(--ccb-font-size);
  line-height: 1.4;
}

.ccb-text-small {
  font-size: var(--ccb-font-size-small);
  line-height: 1.4;
}

/* =============================================================================
   UTILITY CLASSES
   ============================================================================= */

.ccb-flex-shrink-0 {
  flex-shrink: 0;
}

.ccb-flex-1 {
  flex: 1;
  min-width: 0;
}

.ccb-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
